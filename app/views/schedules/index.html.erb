<div class="container">
  <div class="row justify-content-center">
    <col-6 class="col-md-10">
      <h1>My Schedules</h1>
      <table class="table table-borderless mt-3">
          <thead class="thead-light">
          <tr>
            <th scope="col">Building</th>
            <th scope="col">Room</th>
            <th scope="col">Apto</th>
            <th scope="col">Start Time</th>
            <th scope="col">End Time</th>
            <th scope ="col">Price</th>
            <% if policy(@schedules).edit? %><th scope="col">Action</th><% end %>
          </tr>
        </thead>
        <tbody>
          <% @schedules.each do |schedule| %>
            <tr>
              <% if policy(schedule).edit? %>
                <td><%= schedule.room.building.building_name %></td>  
                <td><%= schedule.room.name %></td>
                <td><%= schedule.user.apartments.find_by(building_id: schedule.room.building_id).apt_number %></td>
                <td><%= readable_time(schedule.start_time) %></td>
                <td><%= readable_time(schedule.end_time) %></td>
                <td><%= schedule.room.price %></td>
                <td>
                  <button type="button" class="btn btn-light"><%= link_to "Edit", edit_schedule_path(schedule) %></button>
                  <button type="button" class="btn btn-light"><%= link_to "Delete", schedule_path(schedule), method: :delete, data: {confirm: "Are you sure?"} %></button>       
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
        </table>
    </col-6>
  </div>
</div>
