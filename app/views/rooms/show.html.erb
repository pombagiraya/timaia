<div class="container">
  <div class="row justify-content-center">
    <col-6 class="col-md-8">
      <h1><%= @room.name %> at <%= @room.building.building_name %></h1>
      <h4>Price: R$<%= @room.price %></h4>
      <% if policy(@room).edit? %>
        <button type="button" class="btn btn-light"><%= link_to "Edit", edit_room_path(@room) %></button>
        <button type="button" class="btn btn-light"><%= link_to "Delete", room_path(@room), method: :delete, data: {confirm: "Are you sure?"} %></button>
      <% end %>
      <h3>Schedules</h3>
      <button type="button" class="btn btn-light">
        <%= link_to 'New Schedule', new_room_schedule_path(@room) %>
      </button>
      <table class="table table-borderless">
    <thead class="thead-light">
    <tr>
      <th scope="col">Start</th>
      <th scope="col">End</th>
      <th scope="col">User</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
      <% @room.schedules.each do |schedule| %>
        <tr>
          <td><%= readable_time(schedule.start_time) %></td>
          <td><%= readable_time(schedule.end_time) %></td>
          <td><%= schedule.user.name %></td>
          <td><% if policy(schedule) %>
            <button type="button" class="btn btn-light"><%= link_to "Edit", edit_schedule_path(schedule) %></button>
            <button type="button" class="btn btn-light"><%= link_to "Delete", schedule_path(schedule), method: :delete, data: {confirm: "Are you sure?"} %></button>       
          <% end %></td>
        </tr>
      <% end %>
    </tbody>
    </table>
    
    <div id="calendar">
      <h3>Calendar</h3>
      <div id="schedule-calendar">
        <%= render "calendar", schedules: @room.schedules %>
      </div>
    </div>

    <button type="button" class="btn btn-light"><%= link_to 'Back', building_path(@room.building.id) %></button>
    </col-6>
  </div>
</div>
